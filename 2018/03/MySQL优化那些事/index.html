<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>MySQL优化那些事儿 | To be a Web Artisan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="原文链接：https://juejin.im/post/5a9b6342f265da23a2289281 一、优化库表结构（1）字符串类型 在MySQL中表示字符串的类型有多种,其中常见的有Char和VarChar,BLOB和TEXT以及可以实现某些优化的ENUM。我们要认识到不同的数据类型在存储和使用的区别,然后合理的使用就能实现优化。  关于MySQL中数据类型的介绍，可以参看我的另一篇博文：">
<meta name="keywords" content="mysql">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL优化那些事儿">
<meta property="og:url" content="https://liluoao.github.io/2018/03/MySQL优化那些事/index.html">
<meta property="og:site_name" content="To be a Web Artisan">
<meta property="og:description" content="原文链接：https://juejin.im/post/5a9b6342f265da23a2289281 一、优化库表结构（1）字符串类型 在MySQL中表示字符串的类型有多种,其中常见的有Char和VarChar,BLOB和TEXT以及可以实现某些优化的ENUM。我们要认识到不同的数据类型在存储和使用的区别,然后合理的使用就能实现优化。  关于MySQL中数据类型的介绍，可以参看我的另一篇博文：">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-05-02T01:55:44.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MySQL优化那些事儿">
<meta name="twitter:description" content="原文链接：https://juejin.im/post/5a9b6342f265da23a2289281 一、优化库表结构（1）字符串类型 在MySQL中表示字符串的类型有多种,其中常见的有Char和VarChar,BLOB和TEXT以及可以实现某些优化的ENUM。我们要认识到不同的数据类型在存储和使用的区别,然后合理的使用就能实现优化。  关于MySQL中数据类型的介绍，可以参看我的另一篇博文：">
<meta name="twitter:creator" content="@liluoao">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">To be a Web Artisan</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">文章列表</a>
        
          <a class="main-nav-link" href="/categories/laravel">Laravel</a>
        
          <a class="main-nav-link" href="/categories/phalcon">Phalcon</a>
        
          <a class="main-nav-link" href="/categories/wechat">Wechat</a>
        
          <a class="main-nav-link" href="/me.html">关于作者</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://liluoao.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-MySQL优化那些事" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/MySQL优化那些事/" class="article-date">
  <time datetime="2018-03-14T02:37:19.000Z" itemprop="datePublished">2018-03-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/mysql/">mysql</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      MySQL优化那些事儿
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>原文链接：<a href="https://juejin.im/post/5a9b6342f265da23a2289281" target="_blank" rel="noopener">https://juejin.im/post/5a9b6342f265da23a2289281</a></p>
<h1 id="一、优化库表结构"><a href="#一、优化库表结构" class="headerlink" title="一、优化库表结构"></a>一、优化库表结构</h1><h3 id="（1）字符串类型"><a href="#（1）字符串类型" class="headerlink" title="（1）字符串类型"></a>（1）字符串类型</h3><blockquote>
<p>在MySQL中表示字符串的类型有多种,其中常见的有<code>Char</code>和<code>VarChar</code>,<code>BLOB</code>和<code>TEXT</code>以及可以实现某些优化的<code>ENUM</code>。我们要认识到不同的数据类型在存储和使用的区别,然后合理的使用就能实现优化。</p>
</blockquote>
<p>关于MySQL中数据类型的介绍，可以参看我的另一篇博文： <a href="http://beautifulsoup.top/2018/02/22/MySQL%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/" target="_blank" rel="noopener">MySQL的常见操作</a></p>
<ol>
<li><strong>Char和VarChar</strong></li>
</ol>
<p><code>Char</code>是定长类型，MySQL会根据定义的字符串的长度分配足够的空间，并且MySQL在存储CHAR值的时候会删除末尾所有的空格。对于经常变更的数据，一般采用CHAR来进行存储,因为CHAR类型在变化的时候不容易产生碎片。</p>
<p>VARCHAR是变长类型，它比CHAR更加节省空间，但是VARCHAR在数据变化的时候容易产生碎片，所以一般用于作为不经常变化的数据的数据类型。VARCHAR需要多使用一个或者两个额外字节来记录字符串的长度，如果列的最大长度小于等于255字节就用一个额外的字节来存储长度，否则使用两个字节。例如<code>VARCHAR(10)</code>的列需要11个字节的存储空间，<code>VARCHAR(1000)</code>的列需要1002个字节。<br><a id="more"></a></p>
<blockquote>
<p>注意，在5.0或者更高的版本中，MySQL在存储或者检索VARCHAR数据类型时保留末尾空格，但是在4.1或者更老的版本中，MySQL在存储或者检索VARCHAR数据类型时和CHAR一样都是删除末尾的空格</p>
</blockquote>
<p>   <strong>2.BLOB和TEXT</strong></p>
<p>BLOB即SMALLBLOB，TEXT即SMALLTEXT。BLOB和TEXT都是为了存储很大的数据而设计的字符串数据类型，分别采用二进制和字符串的方式来存储。</p>
<p>  <strong> 3.使用ENUM来代替字符串类型</strong></p>
<p>MySQL在存储枚举的时候非常的紧凑，会根据列表值的数量压缩到一个或者两个字节中。MySQL在内部会将每个值在列表中的位置保存为整数，并且在表的.frm文件中保存”数字-字符串”映射关系的”查找表”。</p>
<p>例如:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create table enum_test(e enum(&apos;apple&apos;,&apos;banana&apos;,&apos;pear&apos;));</span><br><span class="line">insert into enum_test(e) values(&apos;apple&apos;),(&apos;banana&apos;),(&apos;pear&apos;);</span><br></pre></td></tr></table></figure>
<p>然后我们所插入的数据在表中其实是存储为整数的。</p>
<h3 id="（2）数字类型"><a href="#（2）数字类型" class="headerlink" title="（2）数字类型"></a>（2）数字类型</h3><p>MySQL可以为整数类型指定宽度，如INT(1)，INT(20)，但是这对大多数应用是没有意义的。MySQL所指定的整数类型的宽度只是用于设置一些MySQL客户端用于显示字符的个数，对于存储和计算而言，INT(1)和INT(20)不会限制值的合法范围，这两种类型都是相同的。</p>
<h3 id="（3）日期和时间类型"><a href="#（3）日期和时间类型" class="headerlink" title="（3）日期和时间类型"></a>（3）日期和时间类型</h3><p><strong>DateTime和TimeStamp</strong></p>
<p><code>DATETIME</code>和<code>TIMESTAMP</code>是两种日期类型，两种类型在MySQL中存储数据的格式完全相同(都是yyyy-MM-dd HH:mm:ss)，但是两者也有不同之处。</p>
<p>DATETIME能保存大范围的值，从1001年到9999年，精度为秒。MySQL采用8个字节来存储DATETIME数据类型所包含的值。默认情况下，MySQL以一种可排序的、无歧义的格式显示DATETIME的值。</p>
<p>TIMESTAMP保存了从1970年1月1日午夜(格林尼治标准时间)以来的秒数，它和UNIX的时间戳相同。TIMESTAMP仅仅使用4个字节的存储空间，所以它能表示的时间范围也比DATETIME小，只能表示从1970年到2038年。TIMESTAMP也有DATETIME没有的特殊属性，默认情况下，如果插入时没有指定第一个TIMESTAMP列的值，MySQL则设置该列的值为当前时间。</p>
<h1 id="二、采用合适的索引"><a href="#二、采用合适的索引" class="headerlink" title="二、采用合适的索引"></a>二、采用合适的索引</h1><h3 id="（1）索引基础"><a href="#（1）索引基础" class="headerlink" title="（1）索引基础"></a>（1）索引基础</h3><blockquote>
<p>在MySQL中,索引是在存储引擎层而不是服务器层实现的。Mysql中索引结构有：B-Tree索引、哈希索引、空间数据索引(R-Tree索引)、全文索引等索引结构，不同的存储引擎对于上述索引结构的实现不同，而且也不是所有的存储引擎都有这5种索引结构类型。</p>
</blockquote>
<h4 id="索引类型"><a href="#索引类型" class="headerlink" title="索引类型:"></a><strong>索引类型:</strong></h4><p>MySQL中的索引类型主要有5种：</p>
<ol>
<li><p>普通索引：最基本的索引、没有任何限制。MyIASM中默认的BTREE类型的索引。如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE article ADD INDEX index_title_name ON title(100);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE INDEX index_name ON table(column(100))</span><br></pre></td></tr></table></figure>
<p>或者直接在创建表的时候定义索引：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index index_title_name(title(100))</span><br></pre></td></tr></table></figure>
</li>
<li><p>唯一索引：索引列的值可以为空。与普通索引类似,不同之处在于索引列的值必须唯一。如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE article ADD UNIQU index_title_name ON title(100);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE UNIQUE INDEX index_name ON table(column(100))</span><br></pre></td></tr></table></figure>
<p>或者直接在创建表的时候定义索引：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UNIQUE index_title_name(title(100))</span><br></pre></td></tr></table></figure>
</li>
<li><p>全文索引：主要用来查找文本中的关键字，而不是直接与索引中的值相比较。仅可用于 MyISAM 表，针对较大的数据，生成全文索引很耗时耗空间。如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE article ADD FULLTEXT index_content(content)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE FULLTEXT INDEX index_content ON article(content)</span><br></pre></td></tr></table></figure>
<p>和</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FULLTEXT (content)</span><br></pre></td></tr></table></figure>
</li>
<li><p>主键索引：它是一种特殊的唯一索引，不允许有空值。</p>
</li>
<li>最左索引(组合索引)：组合索引可以更好的提高MySQL效率，最左索引遵循”最左索引”原则。创建复合索引时应该将最常用（频率）作限制条件的列放在最左边，依次递减。</li>
</ol>
<h4 id="索引方法："><a href="#索引方法：" class="headerlink" title="索引方法："></a><strong>索引方法：</strong></h4><p>可以使用B树索引的查询：</p>
<ol>
<li>全值匹配的查询</li>
<li>匹配最左前缀的查询</li>
<li>匹配列前缀的查询</li>
<li>匹配范围值的查询</li>
<li>精确匹配左前列并且范围匹配另外一列</li>
<li>覆盖索引(只需要访问索引而无需查询数据行)</li>
</ol>
<p>使用B树索引的限制</p>
<ol>
<li>在多列索引中，必须按照索引的最左列开始查找,否则索引无法使用</li>
<li>在多列索引中,不能跳过索引中的列。比如一个三列组成的联合索引，不能只使用第一列和第三列进行查询而跳过第二列。</li>
<li><code>not in</code> 和<code>&lt; &gt;</code>操作无法使用索引</li>
<li>如果查询中有某一个列的范围查询，则其右边所有的列都不能使用索引。</li>
</ol>
<p>Hash索引的特点：</p>
<p>Hash索引是基于Hash表实现的，只有查询条件精确匹配Hash索引中的所有列时，才能使用Hash索引，Hash索引只适用于等值查询不适合模糊查询和范围查询。</p>
<p>对于Hash索引中的所有列，存储引擎都会为该列的每一行计算一个Hash码，Hash索引中存储的就是Hash码。</p>
<p>使用Hash索引的限制：</p>
<ol>
<li>Hash索引必须进行二次的查找。</li>
<li>Hash索引无法进行排序。</li>
<li>Hash索引不支持部分索引查找也不支持范围查找。</li>
<li>Hash索引中Hash的计算可能存在Hash冲突。</li>
</ol>
<p>B树索引与Hash索引在很多地方是不同的。B树索引除了能加快数据的查找速度之外还可以做到排序和分组，B树索引的叶子节点存储了索引关键字的值，可以直接通过索引查找关键字的信息从而避免了访问数据行。但是Hash索引的叶子节点中存储的是关键字信息的Hash码，我们需要将查询信息转化成Hash在表中找到对应的数据行才能查找到数据的信息。因此Hash索引不能作为覆盖索引来使用。</p>
<h4 id="覆盖索引："><a href="#覆盖索引：" class="headerlink" title="覆盖索引："></a><strong>覆盖索引：</strong></h4><p>如果一个索引包含所有需要查询的字段的值(<code>where</code>语句的参数、<code>order by</code>的参数、<code>group by</code>的参数),那么我们通常称这个索引为覆盖索引。对于Memory存储引擎不能使用覆盖索引，查询过程中如果包含了太多的列(如<code>select *</code>)也不适合使用覆盖索引。 使用覆盖索引也有很多的优点。</p>
<ul>
<li>优化缓存,减少磁盘I/O操作。</li>
<li>减少随机I/O,变随机I/O为顺序I/O。</li>
<li>可以避免对<strong>Innodb</strong>主键索引的二次查询。</li>
</ul>
<h3 id="（2）InnoDB存储引擎中的索引"><a href="#（2）InnoDB存储引擎中的索引" class="headerlink" title="（2）InnoDB存储引擎中的索引"></a>（2）InnoDB存储引擎中的索引</h3><p>InnoDB作为MySQL最为著名的存储引擎，这里要做特别的介绍。InnoDB中存储引擎支持B+树索引、全文索引和哈希索引。InnoDB存储引擎支持的哈希引擎是自适应的，InnoDB存储引擎会根据表的使用情况自动为表生成哈希索引，不能人为干预是否在一张表中生成哈希索引。</p>
<p>传统意义上的索引就是指的B+树索引，这是目前关系型数据库系统中查找最为常用和有效的索引，其构造就是采用了二叉树的思想，根据键值对快速找到数据。通过B+树索引找到被查找数据行所在的页，然后数据库把页读入到内存，再在内存中进行查找，找到对应的数据。</p>
<p>InnoDB使用的是行锁，只有在修改行时，才会对行进行加锁。使用索引能够使得数据在查询过程中锁定更少的行，增加了数据处理的并发性,提高了数据库的性能。</p>
<h3 id="（3）索引使用的注意事项"><a href="#（3）索引使用的注意事项" class="headerlink" title="（3）索引使用的注意事项"></a>（3）索引使用的注意事项</h3><ol>
<li><p>保证在MySQL中查找数据时，表中对应的列数独立的。独立的列在于索引列不能是表达式中的一部分,也不能是函数的参数。即不允许</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select id from article where id+1=5</span><br></pre></td></tr></table></figure>
<p>等情况的出现,否则索引将不能使用。</p>
</li>
<li>索引很长的字符列，会让索引变得大且慢。这个时候就要采用前缀索引，就是选取列开始的部分字符作为索引，前缀索引的选择也要保证合理的索引选择性(越接近1越好)。</li>
<li>如果不需要考虑排序和分组的需要,在联合索引中，应该将选择性最高的索引放到索引的最前列、将经常会被使用的列放到索引的最前列、宽度较小的列放到索引的最前列。</li>
<li>使用<code>pt-duplicate-key-checker h=127.0.0.1</code>查找重复和冗余的索引,然后将重复冗余的索引删除。</li>
</ol>
<h1 id="三、改造SQL查询语句"><a href="#三、改造SQL查询语句" class="headerlink" title="三、改造SQL查询语句"></a>三、改造SQL查询语句</h1><h3 id="（1）MySQL连接状态"><a href="#（1）MySQL连接状态" class="headerlink" title="（1）MySQL连接状态"></a>（1）<strong>MySQL连接状态</strong></h3><p>MySQL客户端和服务器之间的通信协议是”半双工”的，在任何一个时刻，要么是由服务器向客户端发送数据，要么是由客户端向服务器端发送数据，两个动作不能同时发生。对于每一个时刻，可以通过命令<code>show full processlist</code>来查看当前连接的状态(Command列就代表当前的状态)。</p>
<p>MySQL的状态如下：</p>
<p><strong>Sleep</strong>: 线程正在等待客户端发送新的请求</p>
<p><strong>Query</strong>: 线程正在执行查询或者正在将结果发送给客户端。</p>
<p><strong>Locked</strong>: 在MySQL服务器层,该线程正在等待表锁.</p>
<p><strong>Sorting result</strong>: 线程正在对结果集进行排序。</p>
<p><strong>Copying to tmp table [on disk]</strong>: 线程正在执行查询，并且将其结果集都复制到一个临时表中，这种状态要么是在做<code>GROUP BY</code>操作，要么是文件排序操作，或者是UNION操作。如果状态上有on disk的标记，那么表示MySQL正在将一个内存临时表放到磁盘上。</p>
<p><strong>Analyzing and statistics</strong>: 线程正在收集存储引擎的统计信息，并生成查询的执行计划。</p>
<p><strong>Sending data</strong>: 这表示线程或者在多个状态之间传送数据，或者在生成结果集，或者在向客户端返回数据。</p>
<h3 id="（2）MySQL连接过程"><a href="#（2）MySQL连接过程" class="headerlink" title="（2）MySQL连接过程"></a>（2）<strong>MySQL连接过程</strong></h3><ol>
<li>MySQL客户端发送一条查询给服务器</li>
<li>MySQL如果开启了查询缓存,那么MySQL服务器会优先检查查询缓存。检查的过程是通过一个对大小敏感的哈希查找实现的,如果缓存命中,那么在返回查询结果之前MySQL会检查一次用户权限,如果权限合适,那么直接返回缓存中的结果信息,查询完成,否则执行下一步。</li>
<li>服务器进行SQL解析、预处理,然后再由优化器生成对应的执行计划。</li>
<li>MySQL根据优化器生成的执行计划,调用存储引擎的API来执行查询。</li>
<li>将查询的结果返回给客户端。</li>
</ol>
<h3 id="（3）查询优化"><a href="#（3）查询优化" class="headerlink" title="（3）查询优化"></a>（3）查询优化</h3><blockquote>
<p>在上面MySQL执行查询的过程中,服务器已经提供了一些SQL的优化措施,我们也需要正确理解并使用这些个优化措施</p>
</blockquote>
<ol>
<li>使用explain+sql查询语句可以查看SQL查询的效率。</li>
<li>mysql使用基于成本的优化器。使用<code>show status like &#39;last_query_cost&#39;</code>可以查询当前会话的<code>last_query_cost</code>值来得知mysql计算的当前查询的成本,mysql会进行评估并得到成本最小的执行计划。</li>
<li>MySQL自带一种”嵌套循环”能够对我们的大多数查询进行优化操作，调整关联表的关联顺讯以达到高效的查询。</li>
</ol>
<h3 id="（4）优化数据访问"><a href="#（4）优化数据访问" class="headerlink" title="（4）优化数据访问"></a>（4）优化数据访问</h3><blockquote>
<p>优化数据访问的关键在于:减少数据访问量,只检索必要访问的数据,保证向数据库发出的查询数据量只是实际需要的数据量。</p>
</blockquote>
<p>为了实现数据访问量的优化,可以使用:</p>
<ol>
<li>在SQL的查询语句中，合理的使用<code>limit</code>控制行数。</li>
<li>在多表关联的SQL查询中，只查询需要的表的列,尽量不要用<code>select *</code></li>
<li>借助第三方的缓存系统，将经常查询的数据缓存起来。</li>
<li>如果查询是需要扫描大量的数据但只是返回少量的行，那么可以使用索引覆盖扫描，把需要数据的行放到索引中。</li>
</ol>
<h3 id="（5）重构查询"><a href="#（5）重构查询" class="headerlink" title="（5）重构查询"></a>（5）重构查询</h3><ol>
<li>将大的查询分解成小的查询。特别是对于删除不需要的数据，一般来说就是分批删除少量的数据，这样可以大大减少数据库锁的持有时间。</li>
<li>合理的分解关联查询。关联查询分解成单表查询可以减少锁的竞争，同时单表查询的结果在应用层做关联，可以实现数据库的拆分，做到高性能和可扩展。此外，通过将重复查询的数据做缓存可以提高效率。</li>
<li>MySQL的某些子查询效率很低(如使用<code>in</code>的子查询)，我们应该使用<code>explain</code>语句测试当前查询的成本，然后决定是否应该使用内连接或者左(右)外连接改写mysql的<code>in()</code>子查询。但当我们需要返回一个表中的某些列时，多表关联查询我们可以使用<code>exists</code>关键字的子查询，这样效率也会更高。——在MySQL5.6版本以前需注意</li>
<li>在使用<code>union</code>关键字进行sql查询时，如果有限制数据量和排序等操作，应在每一条sql语句中使用这些限制。</li>
<li>使用主键自带的排序效果和<code>limit</code>关键字来代替<code>max</code>和<code>min</code>关键字实现最大和最小值。</li>
<li>MySQL在需要进行分页时，通过使用<code>limit</code>外加偏移量来实现，同时加上合适的<code>order by</code>子句，这样可以充分的利用具有索引的列。此外，在分页中，偏移量如果相差数据量过大，应该采用索引覆盖扫描。</li>
<li>进行关联查询时，在<code>on</code>和<code>using</code>子句的列上添加索引，并且注意在关联顺序上，应该在第二章表中添加索引，提高效率。</li>
<li>确保<code>group by</code>和<code>order by</code>子句的表达式上只涉及一个表中的列，只有这样才有可能使用索引优化这个过程。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://liluoao.github.io/2018/03/MySQL优化那些事/" data-id="cjgogag9j00068kmjlcevfffo" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/">mysql</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/03/Phalcon启动流程/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          Phalcon 启动流程
        
      </div>
    </a>
  
  
    <a href="/2018/03/Laravel路由是如何调用到控制器/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">Laravel 路由是如何调用到控制器</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/04/PHPStorm使用FTP/">PHPStorm使用FTP</a>
          </li>
        
          <li>
            <a href="/2018/04/微信菜单/">微信菜单</a>
          </li>
        
          <li>
            <a href="/2018/04/微信消息处理/">微信消息处理</a>
          </li>
        
          <li>
            <a href="/2018/04/PHP运行模式/">PHP运行模式</a>
          </li>
        
          <li>
            <a href="/2018/04/Nginx和PHP的配置/">Nginx和PHP的配置</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/composer/">composer</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/laravel/">laravel</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/phalcon/">phalcon</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/wechat/">wechat</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/安全/">安全</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ci/">ci</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/clean-code/">clean-code</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/culture/">culture</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dependency-injection/">dependency-injection</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design-patterns/">design-patterns</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/laravel/">laravel</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phalcon/">phalcon</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phpstorm/">phpstorm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/refactor/">refactor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/restful/">restful</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sapi/">sapi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/solid/">solid</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wechat/">wechat</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a><span class="tag-list-count">4</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">20</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <div class="footer-copyright">
        &copy; 2018 李罗奥<br>
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      </div>
      <div class="footer-about-me">
        关于作者<br>
        <a href="https://github.com/liluoao" target="_blank" title="GitHub">GitHub</a><br>
        <a href="https://segmentfault.com/u/liluoao" target="_blank" title="SegmentFault">SegmentFault</a><br>
        <a href="https://laravel-china.org/users/7144" target="_blank" title="LaravelChina">LaravelChina</a><br>
        <a href="https://gitee.com/liluoao" target="_blank" title="码云">码云</a><br>
        <a href="https://juejin.im/user/5a19374cf265da4332274600" target="_blank" title="掘金">掘金</a><br>
        <a href="https://packagist.org/users/liluoao/" target="_blank" title="Packagist">Packagist</a><br>
        <a href="https://www.gitbook.com/@liluoao" target="_blank" title="GitBook">GitBook</a>
      </div>
      <div>
        <a href="http://www.miitbeian.gov.cn/" target="_blank">鄂ICP备18009105号</a>
      </div>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">文章列表</a>
  
    <a href="/categories/laravel" class="mobile-nav-link">Laravel</a>
  
    <a href="/categories/phalcon" class="mobile-nav-link">Phalcon</a>
  
    <a href="/categories/wechat" class="mobile-nav-link">Wechat</a>
  
    <a href="/me.html" class="mobile-nav-link">关于作者</a>
  
</nav>
    

<script src="//lib.sinaapp.com/js/jquery/3.1.0/jquery-3.1.0.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>